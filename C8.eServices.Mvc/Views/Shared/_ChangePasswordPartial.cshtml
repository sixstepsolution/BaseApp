@model C8.eServices.Mvc.ViewModels.ManageUserViewModel

@*<p>You're logged in as <strong>@User.Identity.GetUserName()</strong>.</p>*@

@using (Html.BeginForm("Manage", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Change Password</h4>
    <hr />

    <div class="panel-group" id="instructions">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseInstructions">
                        <span>Instructions</span>
                    </a>
                </h4>
            </div>
            <div id="collapseInstructions" class="panel-collapse collapse in">
                <div class="panel-body">
                    <p>
                        <ul>
                            <li>
                                Enter your current temporary/current password in the 'Current password' text box. If you have requested a password reset via the "Forgot Password" link, <strong> the current password will be the temporary password you receive via email.</strong> If the 'Current password' textbox is already populated, clear it using backspace to ensure that it is empty. <strong>Please do not use the automatically populated password  that your browser fills in, as this will cause an error. Clear the automatically filled password.</strong>
                            </li>
                            <li>
                                Enter a password of your choice in the 'New password' textbox. The password has to be at least 6 characters long and contain at least 1 uppercase character,  1 lowercase character, a numeric character and a special character eg. !,@@,#,$,%,&,*.
                            </li>
                            <li>
                                Enter the password you created in the above step in the 'Confirm new password’ textbox.
                            </li>
                            <li>Click the 'Change password' button.</li>
                        </ul>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#loginDetailsCollapse">
                        Login Details
                    </a>
                </h4>
            </div>
            <div id="loginDetailsCollapse" class="panel-collapse collapse in">
                <div class="panel-body">
                    @Html.ValidationSummary()
                    <div class="form-group">
                        @Html.LabelFor(m => m.OldPassword, new { @class = "col-md-2 control-label" })
                        <div class="col-md-3">
                            @Html.PasswordFor(m => m.OldPassword, new { @class = "form-control", @autocomplete = "new-password" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.NewPassword, new { @class = "col-md-2 control-label" })
                        <div class="col-md-3">
                            @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control", @autocomplete = "new-password" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-2 control-label" })
                        <div class="col-md-3">
                            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @autocomplete = "new-password" })
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            <input type="submit" value="Change password" class="btn btn-primary" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}


