@using C8.eServices.Mvc.Models
@model C8.eServices.Mvc.Models.AdditionalPropertyOwner

@{
    ViewBag.Title = "Delete";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
    var navList = (NavigationProperty)ViewBag.NavigationParameters;
}

<h3>Home Owner's Rates Rebate Application for Residential Property</h3>
<hr />
@Html.Partial("_NavigationPartial", navList)

@*<div style="display: block;">
    <ol class="progtrckr" data-progtrckr-steps="2">
        <li class="progtrckr-done">Principle Owner</li>
        <li class="progtrckr-done">Properties</li>
        <li class="progtrckr-done">Accounts</li>
        <li class="progtrckr-here">Additional Owners</li>
        <li class="progtrckr-todo">Documents</li>
        <li class="progtrckr-todo">Submit</li>
    </ol>
</div>*@
<br />
<div class="panel-group" id="instuctions">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 id="instructionsTitle" class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseInstructions">
                    <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                    Instructions
                </a>
            </h4>
        </div>
        <div id="collapseInstructions" class="panel-collapse collapse">
            <div class="panel-body">
                <p>
                    You are currently at step 2:
                    <ol>
                        <li>Principle Owner - Update information about the principle owner.</li>
                        <li>Properties - Update information about the properties owned by the principle owner.</li>
                        <li>Accounts - Update information about the accounts associated with a property.</li>
                        <li><strong>Additional Owners - Update information about the additional owners of a property.</strong></li>
                        <li>Documents - Upload documents to support and verify your application per property.</li>
                        <li>Submit - Submit your application. You may also add additional properties or edit a property and related infomation.</li>
                    </ol>
                </p>
                <p>
                    You are about to delete an additional owner from your rates rebate application. Please confirm by clicking "Delete" in the "Navigation"
                    panel or click "Cancel" to go back to the additional owners listing page.
                </p>
            </div>
        </div>
    </div>
</div>

@using ( Html.BeginForm() )
{
    @Html.AntiForgeryToken()

    <div class="panel-group" id="navigation">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseNavigation">Navigation
                    </a>
                </h4>
            </div>
            <div id="collapseNavigation" class="panel-collapse collapse in">
                <div class="panel-body">
                    <div id="toolbar">
                        <div class="form-inline" role="form">
                            <div class="col-md-6">
                                @Html.EncodedActionLink( "Cancel", "Index","AdditionalPropertyOwner", new { propertyId = Model.PropertyId, ratesRebateId = ViewBag.RatesRebateId }, new { @class = "btn btn-primary" } )
                            </div>
                            <div class="col-md-6">
                                <span class="pull-right">
                                    <input type="submit" value="Delete" class="btn btn-primary" />
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

<div class="panel-group" id="account">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseAccount">Are you sure you want to delete this additional owner?
                </a>
            </h4>
        </div>
        <div id="collapseAccount" class="panel-collapse collapse in">
            <div class="panel-body">
                <div>
                    <dl class="dl-horizontal">

                        <dt>
                            @Html.DisplayNameFor( model => model.Property.RatesNumber )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.Property.RatesNumber )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.OwnerIdentificationNumber )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.OwnerIdentificationNumber )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.OwnerName )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.OwnerName )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.IsDeceased )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.IsDeceased )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.IsRegisteredOwner )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.IsRegisteredOwner )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.ExecutorName )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.ExecutorName )
                        </dd>

                        <dt>
                            @Html.DisplayNameFor( model => model.ExecutorContactNumber )
                        </dt>

                        <dd>
                            @Html.DisplayFor( model => model.ExecutorContactNumber )
                        </dd>

                    </dl>

                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{

    <script type="text/javascript">

    $(function () {
        @*// Displays a triangle to tell users if the panel is collapsable.*@
        $('#instructionsTitle').on("click", function () {
            var span = $('#instructionsTitle').find('span');
            if (span.attr('class') === 'glyphicon glyphicon-triangle-top') {
                span.removeClass('glyphicon-triangle-top');
                span.addClass('glyphicon-triangle-bottom');
            } else {
                span.removeClass('glyphicon-triangle-bottom');
                span.addClass('glyphicon-triangle-top');
            }
        });
    });

    </script>

}